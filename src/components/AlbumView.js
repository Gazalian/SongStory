import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Disc, Layers, Clock, TrendingUp, Mic2, AlignLeft, Info, Link as LinkIcon, } from "lucide-react";
const SpotifyIcon = () => (_jsx("svg", { viewBox: "0 0 24 24", fill: "currentColor", className: "w-4 h-4", children: _jsx("path", { d: "M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z" }) }));
const AppleMusicIcon = () => (_jsx("svg", { viewBox: "0 0 24 24", fill: "currentColor", className: "w-4 h-4", children: _jsx("path", { d: "M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 0 5.373 5.373 0 12 0s12 5.373 12 12zM10.954 8.188L9.042 16.5l8.139-4.32-6.227-3.992z" }) }));
const SECTIONS = [
    { id: "overview", label: "Overview", icon: Info },
    { id: "vision", label: "Vision", icon: Mic2 },
    { id: "tracks", label: "Tracks", icon: ListIcon },
    { id: "timeline", label: "Timeline", icon: Clock },
    { id: "reception", label: "Reception", icon: TrendingUp },
];
function ListIcon(props) {
    return _jsx(AlignLeft, { ...props });
}
const AlbumView = ({ data, onBack, onArtistClick, onSongClick, }) => {
    const [activeSection, setActiveSection] = useState("overview");
    const [imgError, setImgError] = useState(false);
    const scrollToSection = (id) => {
        setActiveSection(id);
        const el = document.getElementById(id);
        if (el)
            el.scrollIntoView({ behavior: "smooth", block: "start" });
    };
    const spotifyLink = `https://open.spotify.com/search/${encodeURIComponent(data.title + " " + data.artist + " album")}`;
    const appleMusicLink = `https://music.apple.com/us/search?term=${encodeURIComponent(data.title + " " + data.artist + " album")}`;
    const themeColor = data.themeColor || "#444";
    const tracklist = data.tracklist || [];
    const reception = data.reception || { then: "", now: "" };
    const sources = data.sources || [];
    return (_jsxs("div", { className: "pb-32 animate-in fade-in zoom-in-95 duration-500", children: [_jsxs("div", { className: "sticky top-0 z-50 bg-black/80 backdrop-blur-md border-b border-white/10 overflow-x-auto no-scrollbar py-3 px-4 flex gap-4", children: [_jsx("button", { onClick: onBack, className: "flex-shrink-0 p-1.5 bg-white/10 rounded-full mr-2 hover:bg-white/20 transition-colors", children: _jsx("svg", { width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", children: _jsx("path", { d: "M19 12H5M12 19l-7-7 7-7" }) }) }), SECTIONS.map((section) => (_jsxs("button", { onClick: () => scrollToSection(section.id), className: `flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider whitespace-nowrap transition-colors ${activeSection === section.id
                            ? "text-white"
                            : "text-white/40 hover:text-white/70"}`, children: [_jsx(section.icon, { size: 12 }), section.label] }, section.id)))] }), _jsxs("div", { className: "pt-8 pb-12 px-6 text-center max-w-4xl mx-auto", children: [_jsxs("div", { className: "relative mx-auto w-64 h-64 md:w-80 md:h-80 mb-8 shadow-2xl rounded-md group perspective-1000", children: [data.imageUrl && !imgError ? (_jsx("img", { src: data.imageUrl, alt: data.title, className: "w-full h-full object-cover rounded-md z-20 relative transition-transform duration-700 group-hover:rotate-y-12 shadow-[0_20px_50px_rgba(0,0,0,0.5)]", onError: () => setImgError(true) })) : (_jsx("div", { className: "w-full h-full rounded-md z-20 relative bg-gradient-to-br from-zinc-800 to-black flex items-center justify-center border border-white/10", style: { backgroundColor: themeColor }, children: _jsx(Disc, { size: 80, className: "text-white/20" }) })), _jsxs("div", { className: "absolute top-2 right-2 w-[95%] h-[95%] bg-black rounded-full z-10 transition-transform duration-700 group-hover:translate-x-16 md:group-hover:translate-x-24 flex items-center justify-center shadow-xl", children: [_jsx("div", { className: "w-24 h-24 bg-red-600 rounded-full border-4 border-black opacity-90" }), _jsx("div", { className: "absolute inset-2 rounded-full border-2 border-dashed border-white/10 opacity-30 animate-spin-slow" })] })] }), _jsx("h1", { className: "font-display text-4xl md:text-6xl font-bold mb-2 text-white tracking-tight drop-shadow-lg", children: data.title }), _jsxs("p", { className: "text-white/60 text-xl font-serif mb-6", children: [_jsx("button", { onClick: () => onArtistClick(data.artist), className: "hover:text-white hover:underline decoration-white/50 underline-offset-4 transition-all", children: data.artist }), " ", "\u2022 ", data.year] }), _jsxs("div", { className: "flex justify-center gap-3", children: [_jsxs("a", { href: spotifyLink, target: "_blank", rel: "noreferrer", className: "bg-[#1DB954] hover:bg-[#1ed760] text-black text-xs font-bold uppercase tracking-wider py-3 px-6 rounded-full flex items-center gap-2 transition-transform hover:scale-105 shadow-lg shadow-green-900/30", children: [_jsx(SpotifyIcon, {}), " Listen"] }), _jsxs("a", { href: appleMusicLink, target: "_blank", rel: "noreferrer", className: "bg-white hover:bg-gray-200 text-black text-xs font-bold uppercase tracking-wider py-3 px-6 rounded-full flex items-center gap-2 transition-transform hover:scale-105 shadow-lg shadow-white/20", children: [_jsx(AppleMusicIcon, {}), " Listen"] })] })] }), _jsxs("div", { className: "max-w-3xl mx-auto px-5 space-y-12", children: [_jsxs("section", { id: "overview", className: "scroll-mt-24 grid grid-cols-2 md:grid-cols-4 gap-4 glass-card p-6 rounded-2xl border-t-4", style: { borderTopColor: themeColor }, children: [_jsxs("div", { children: [_jsx("div", { className: "text-white/30 text-[10px] uppercase font-bold tracking-wider", children: "Released" }), _jsx("div", { className: "text-sm font-medium", children: data.snapshot?.releaseDate || "N/A" })] }), _jsxs("div", { children: [_jsx("div", { className: "text-white/30 text-[10px] uppercase font-bold tracking-wider", children: "Label" }), _jsx("div", { className: "text-sm font-medium truncate", children: data.snapshot?.label || "N/A" })] }), _jsxs("div", { children: [_jsx("div", { className: "text-white/30 text-[10px] uppercase font-bold tracking-wider", children: "Producer" }), _jsx("div", { className: "text-sm font-medium truncate", children: data.snapshot?.producer || "N/A" })] }), _jsxs("div", { children: [_jsx("div", { className: "text-white/30 text-[10px] uppercase font-bold tracking-wider", children: "Genre" }), _jsx("div", { className: "text-sm font-medium", children: data.genre })] })] }), _jsxs("section", { id: "vision", className: "scroll-mt-24", children: [_jsxs("h3", { className: "font-display text-2xl font-bold mb-4 flex items-center gap-2", children: [_jsx(Mic2, { className: "text-white/50", size: 20 }), " The Concept"] }), _jsxs("div", { className: "glass-card p-8 rounded-2xl bg-gradient-to-br from-white/5 to-transparent relative overflow-hidden", children: [_jsx("div", { className: "absolute top-0 left-0 w-1 h-full", style: { backgroundColor: themeColor } }), _jsx("p", { className: "text-lg leading-relaxed text-white/90 mb-4", children: data.artistIntent }), _jsxs("div", { className: "mt-4 pt-4 border-t border-white/10", children: [_jsx("h4", { className: "text-xs uppercase tracking-widest text-white/50 mb-2 font-bold", children: "Themes" }), _jsx("p", { className: "text-sm text-white/70", children: data.themesAndConcepts })] })] }), _jsxs("div", { className: "mt-4 glass-card p-4 rounded-xl flex gap-4 items-start", children: [_jsx("div", { className: "p-2 bg-pink-500/20 rounded-lg text-pink-300", children: _jsx(Disc, { size: 20 }) }), _jsxs("div", { children: [_jsx("h4", { className: "text-sm font-bold uppercase text-white/80", children: "Cover Art Story" }), _jsx("p", { className: "text-sm text-white/60 mt-1", children: data.coverArtStory })] })] })] }), tracklist.length > 0 && (_jsxs("section", { id: "tracks", className: "scroll-mt-24", children: [_jsxs("div", { className: "flex items-center gap-2 mb-6", children: [_jsx(Layers, { size: 20, className: "text-white/70" }), _jsx("h3", { className: "font-display text-2xl font-bold", children: "Track by Track" })] }), _jsx("div", { className: "space-y-2", children: tracklist.map((track, i) => (_jsxs("button", { onClick: () => onSongClick(track.track, data.artist), className: "group w-full text-left p-4 rounded-xl hover:bg-white/5 transition-colors border-b border-white/5 cursor-pointer", children: [_jsxs("div", { className: "flex items-baseline gap-3 mb-1", children: [_jsx("span", { className: "text-white/30 font-mono text-xs w-6", children: (i + 1).toString().padStart(2, "0") }), _jsx("h4", { className: "font-bold text-white/90 text-base group-hover:text-blue-200 transition-colors", children: track.track })] }), _jsx("p", { className: "text-sm text-white/50 pl-9 group-hover:text-white/70 transition-colors line-clamp-2", children: track.description })] }, i))) })] })), _jsxs("section", { id: "timeline", className: "scroll-mt-24 grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "glass-card p-6 rounded-2xl", children: [_jsxs("div", { className: "flex items-center gap-2 mb-3 text-green-400", children: [_jsx(Clock, { size: 20 }), _jsx("h4", { className: "font-bold text-lg", children: "Timeline" })] }), _jsx("p", { className: "text-sm text-white/70 leading-relaxed mb-4", children: data.recordingTimeline }), _jsx("div", { className: "text-xs uppercase text-white/30 font-bold mb-1", children: "Tour Era" }), _jsx("p", { className: "text-sm text-white/70", children: data.tourEra })] }), _jsxs("div", { id: "reception", className: "glass-card p-6 rounded-2xl scroll-mt-24", children: [_jsxs("div", { className: "flex items-center gap-2 mb-3 text-pink-400", children: [_jsx(TrendingUp, { size: 20 }), _jsx("h4", { className: "font-bold text-lg", children: "Reception" })] }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("span", { className: "text-xs text-white/40 uppercase font-bold", children: "On Release" }), _jsx("p", { className: "text-sm text-white/80 mt-1", children: reception.then })] }), _jsx("div", { className: "w-full h-px bg-white/10" }), _jsxs("div", { children: [_jsx("span", { className: "text-xs text-white/40 uppercase font-bold", children: "Modern Legacy" }), _jsx("p", { className: "text-sm text-white/80 mt-1", children: reception.now })] })] })] })] }), _jsxs("section", { className: "glass-card p-6 rounded-2xl bg-gradient-to-r from-blue-900/10 to-purple-900/10 border border-white/10", children: [_jsx("h3", { className: "font-bold text-lg mb-3", children: "Credits & Hidden Gems" }), _jsxs("div", { className: "space-y-3 text-sm", children: [_jsxs("p", { children: [_jsx("span", { className: "text-white/50 font-bold", children: "Collaborators:" }), " ", _jsx("span", { className: "text-white/80", children: data.collaborators })] }), _jsxs("p", { children: [_jsx("span", { className: "text-white/50 font-bold", children: "Easter Eggs:" }), " ", _jsx("span", { className: "text-white/80", children: data.hiddenDetails })] })] })] }), sources.length > 0 && (_jsxs("div", { className: "pt-8 border-t border-white/10 mt-12 text-center", children: [_jsx("h4", { className: "text-xs font-bold uppercase tracking-widest text-white/30 mb-4", children: "Verified Sources" }), _jsx("div", { className: "flex flex-wrap justify-center gap-3", children: sources.map((source, i) => (_jsxs("a", { href: source.url, target: "_blank", rel: "noreferrer", className: "flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-white/5 hover:bg-white/10 text-xs text-white/50 hover:text-white transition-colors", children: [_jsx(LinkIcon, { size: 10 }), " ", source.title] }, i))) })] }))] })] }));
};
export default AlbumView;
